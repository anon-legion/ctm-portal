<div
  class="is-flex is-justify-content-space-between width-breakpoint-768"
  style="gap: 1rem">
  <mat-form-field appearance="outline" color="accent">
    <mat-label>Select a city</mat-label>
    <mat-select
      [(value)]="selectedCity"
      (selectionChange)="selectCityOnChange($event)">
      <mat-option [value]="allCity">All Cities</mat-option>
      <mat-option *ngFor="let city of cityList" [value]="city">
        {{ city.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="outline" color="accent" class="is-flex-grow-1">
    <mat-label>Select a route</mat-label>
    <mat-select
      [(value)]="selectedRoute"
      (selectionChange)="selectRouteOnChange($event)">
      <mat-option [value]="allRoute">All Routes</mat-option>
      <mat-option *ngFor="let route of cityRouteList" [value]="route">
        {{ route.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

<form
  class="container is-flex is-flex-direction-column mb-2 width-breakpoint-768"
  [formGroup]="routeStopForm">
  <mat-form-field appearance="outline" color="accent">
    <mat-label>Place Name</mat-label>
    <input matInput type="text" formControlName="name" class="is-capitalized" />
  </mat-form-field>
  <div class="is-flex is-justify-content-space-between is-align-items-center">
    <mat-slide-toggle class="mb-2" color="accent" formControlName="isActive">
      {{ routeStopForm.value.isActive ? 'Active' : 'Inactive' }}
    </mat-slide-toggle>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Distance</mat-label>
      <input
        matInput
        type="text"
        formControlName="distance"
        pattern="^[0-9]*$" />
    </mat-form-field>
  </div>
  <button
    type="button"
    mat-raised-button
    color="primary"
    [disabled]="!routeStopForm.valid"
    (click)="routeStopFormOnSubmit()">
    {{ isEditMode ? 'Update' : 'Add' }}
  </button>
</form>

<mat-divider class="width-breakpoint-768"></mat-divider>
<div class="list-container mt-2 width-breakpoint-768">
  <table mat-table [dataSource]="routeStopList">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Place</th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>
    <ng-container matColumnDef="cityId">
      <th mat-header-cell *matHeaderCellDef>City</th>
      <td mat-cell *matCellDef="let element">{{ element.cityId.name }}</td>
    </ng-container>
    <ng-container matColumnDef="isActive">
      <th mat-header-cell *matHeaderCellDef>Active</th>
      <td mat-cell *matCellDef="let element">{{ element.isActive }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      (click)="rowOnClick(row)"
      *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
